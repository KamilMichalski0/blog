---
title: 'Integracja Claude Code z Twoim Workflow - Kompletny Przewodnik'
description: 'Dowiedz siÄ™, jak zintegrowaÄ‡ Claude Code z CI/CD, Git hooks, VS Code i innymi narzÄ™dziami deweloperskimi. Automatyzuj swojÄ… pracÄ™!'
pubDate: 'Jun 01 2024'
heroImage: 'https://images.unsplash.com/photo-1618401471353-b98afee0b2eb?w=1200&q=80'
tags: ['Claude Code', 'Integracja', 'Automatyzacja', 'Git', 'CI/CD']
---

Claude Code to nie tylko standalone tool - to narzÄ™dzie, ktÃ³re moÅ¼esz zintegrowaÄ‡ z caÅ‚ym ekosystemem swoich narzÄ™dzi deweloperskich. W tym przewodniku pokaÅ¼Ä™, jak poÅ‚Ä…czyÄ‡ Claude Code z Git hooks, CI/CD, VS Code i wieloma innymi.

## Integracja z Git Hooks

### Pre-commit Hook - Automatyczny Code Review

StwÃ³rz plik `.git/hooks/pre-commit`:

```bash
#!/bin/bash
# .git/hooks/pre-commit

echo "ğŸ¤– Claude Code sprawdza Twoje zmiany..."

# Pobierz staged changes
git diff --cached > /tmp/staged-changes.diff

# Claude review
claude "Review this diff for potential issues, security vulnerabilities, and code quality. Be concise." < /tmp/staged-changes.diff > /tmp/review.txt

# SprawdÅº czy sÄ… critical issues
if grep -qi "critical\|security risk\|vulnerability" /tmp/review.txt; then
  echo "âŒ Znaleziono krytyczne problemy:"
  cat /tmp/review.txt
  echo ""
  echo "UÅ¼yj 'git commit --no-verify' aby pominÄ…Ä‡ sprawdzenie."
  exit 1
fi

echo "âœ… Code review przeszedÅ‚ pomyÅ›lnie"
exit 0
```

Ustaw uprawnienia:

```bash
chmod +x .git/hooks/pre-commit
```

### Pre-push Hook - Sprawdzanie TestÃ³w

`.git/hooks/pre-push`:

```bash
#!/bin/bash

echo "ğŸ§ª Uruchamiam testy przed push..."

# Uruchom testy
npm test

if [ $? -ne 0 ]; then
  echo "âŒ Testy nie przeszÅ‚y!"

  # Claude analiza
  echo "ğŸ¤– Claude analizuje bÅ‚Ä™dy testÃ³w..."
  npm test 2>&1 | claude "Analyze these test failures and suggest fixes"

  exit 1
fi

echo "âœ… Wszystkie testy przeszÅ‚y"
exit 0
```

### Commit Message Hook - AI-Generated Messages

`.git/hooks/prepare-commit-msg`:

```bash
#!/bin/bash
COMMIT_MSG_FILE=$1
COMMIT_SOURCE=$2

# PomiÅ„ dla merge commits
if [ "$COMMIT_SOURCE" = "merge" ]; then
  exit 0
fi

# JeÅ›li commit message jest pusty, wygeneruj
if [ ! -s "$COMMIT_MSG_FILE" ]; then
  echo "ğŸ¤– GenerujÄ™ commit message..."

  git diff --cached | claude "Generate a concise, conventional commit message for these changes. Format: type(scope): description" > "$COMMIT_MSG_FILE"

  echo "" >> "$COMMIT_MSG_FILE"
  echo "# ğŸ¤– Generated by Claude Code" >> "$COMMIT_MSG_FILE"
fi
```

## Integracja z VS Code

### Custom Task dla Claude Code

UtwÃ³rz `.vscode/tasks.json`:

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Claude: Review Current File",
      "type": "shell",
      "command": "claude",
      "args": [
        "Review ${file} for code quality, bugs, and improvements"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "Claude: Generate Tests",
      "type": "shell",
      "command": "claude",
      "args": [
        "Generate unit tests for ${file}"
      ],
      "problemMatcher": []
    },
    {
      "label": "Claude: Explain Code",
      "type": "shell",
      "command": "claude",
      "args": [
        "Explain what ${file} does in detail"
      ],
      "problemMatcher": []
    },
    {
      "label": "Claude: Fix ESLint Errors",
      "type": "shell",
      "command": "claude",
      "args": [
        "Fix all ESLint errors in ${workspaceFolder}"
      ],
      "problemMatcher": []
    }
  ]
}
```

UÅ¼ycie: `Cmd/Ctrl + Shift + P` â†’ "Tasks: Run Task" â†’ wybierz task Claude

### Keybindings dla Claude

`.vscode/keybindings.json`:

```json
[
  {
    "key": "ctrl+alt+r",
    "command": "workbench.action.tasks.runTask",
    "args": "Claude: Review Current File"
  },
  {
    "key": "ctrl+alt+t",
    "command": "workbench.action.tasks.runTask",
    "args": "Claude: Generate Tests"
  },
  {
    "key": "ctrl+alt+e",
    "command": "workbench.action.tasks.runTask",
    "args": "Claude: Explain Code"
  }
]
```

## Integracja z CI/CD

### GitHub Actions Workflow

`.github/workflows/claude-review.yml`:

```yaml
name: Claude Code Review

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  claude-review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 0

      - name: Install Claude Code
        run: npm install -g @anthropic-ai/claude-code

      - name: Authenticate Claude
        env:
          CLAUDE_API_KEY: ${{ secrets.CLAUDE_API_KEY }}
        run: |
          echo "$CLAUDE_API_KEY" | claude auth

      - name: Get PR Diff
        run: |
          git diff origin/${{ github.base_ref }}...HEAD > pr-diff.txt

      - name: Claude Review
        run: |
          claude "Review this PR diff for:\n1. Security issues\n2. Performance problems\n3. Code quality\n4. Best practices violations\n\nBe specific and actionable." < pr-diff.txt > review.md

      - name: Post Review Comment
        uses: actions/github-script@v6
        with:
          script: |
            const fs = require('fs');
            const review = fs.readFileSync('review.md', 'utf8');

            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `## ğŸ¤– Claude Code Review\n\n${review}`
            });

      - name: Check for Critical Issues
        run: |
          if grep -qi "critical\|security risk" review.md; then
            echo "âŒ Critical issues found"
            exit 1
          fi
```

### GitLab CI Pipeline

`.gitlab-ci.yml`:

```yaml
stages:
  - review
  - test
  - deploy

claude_review:
  stage: review
  image: node:18
  script:
    - npm install -g @anthropic-ai/claude-code
    - echo "$CLAUDE_API_KEY" | claude auth
    - git diff origin/$CI_MERGE_REQUEST_TARGET_BRANCH_NAME...HEAD > diff.txt
    - claude "Review this diff for issues" < diff.txt > review.txt
    - cat review.txt
    - |
      if grep -qi "critical" review.txt; then
        echo "Critical issues found!"
        exit 1
      fi
  only:
    - merge_requests
```

## Skrypty Automatyzacji

### Daily Code Health Check

`scripts/daily-health-check.sh`:

```bash
#!/bin/bash
# Codzienny sprawdzenie zdrowia kodu

PROJECT_DIR="$HOME/projects/my-app"
REPORT_FILE="/tmp/health-report-$(date +%Y-%m-%d).md"

cd "$PROJECT_DIR"

echo "# Code Health Report - $(date +%Y-%m-%d)" > "$REPORT_FILE"
echo "" >> "$REPORT_FILE"

# 1. Security audit
echo "## Security Audit" >> "$REPORT_FILE"
npm audit --json | claude "Summarize security vulnerabilities and recommend fixes" >> "$REPORT_FILE"
echo "" >> "$REPORT_FILE"

# 2. Code complexity
echo "## Code Complexity" >> "$REPORT_FILE"
find src -name "*.js" -o -name "*.ts" | head -10 | while read file; do
  echo "### $file" >> "$REPORT_FILE"
  claude "Analyze complexity of $file and suggest simplifications" >> "$REPORT_FILE"
done

# 3. Test coverage gaps
echo "## Test Coverage Gaps" >> "$REPORT_FILE"
npm run test:coverage --json | claude "Identify files with low test coverage and prioritize" >> "$REPORT_FILE"

# Send report via email
mail -s "Daily Code Health Report" dev-team@company.com < "$REPORT_FILE"
```

### Automated Refactoring Script

`scripts/auto-refactor.sh`:

```bash
#!/bin/bash
# Automatyczny refactoring z zatwierdzeniem

TARGET_DIR="${1:-src}"

echo "ğŸ” Szukam kodu do refactoringu w $TARGET_DIR..."

# ZnajdÅº pliki z wysokÄ… zÅ‚oÅ¼onoÅ›ciÄ…
FILES=$(find "$TARGET_DIR" -name "*.js" -o -name "*.ts")

for file in $FILES; do
  echo "ğŸ“ AnalizujÄ™: $file"

  # Claude analysis
  ANALYSIS=$(claude "Analyze $file and rate its complexity from 1-10. If >= 7, suggest refactoring. Output only the number.")

  if [ "$ANALYSIS" -ge 7 ]; then
    echo "âš ï¸  Wysoka zÅ‚oÅ¼onoÅ›Ä‡ ($ANALYSIS/10) - proponujÄ™ refactoring"

    # Generate refactoring plan
    claude --plan "Refactor $file to reduce complexity while maintaining functionality" > "/tmp/plan-$file.txt"

    # Show plan and ask for approval
    cat "/tmp/plan-$file.txt"
    read -p "ZatwierdziÄ‡ refactoring? (y/n) " -n 1 -r
    echo

    if [[ $REPLY =~ ^[Yy]$ ]]; then
      claude "Execute the refactoring plan for $file"
      echo "âœ… Zrefaktorowano $file"
    fi
  fi
done
```

## Package.json Scripts Integration

Dodaj do `package.json`:

```json
{
  "scripts": {
    "claude:review": "git diff | claude 'Review this diff'",
    "claude:test": "claude 'Generate tests for all files in src/ that lack coverage'",
    "claude:docs": "claude 'Generate JSDoc comments for all functions in src/'",
    "claude:fix": "claude 'Fix all ESLint and TypeScript errors'",
    "claude:commit": "git add . && git diff --cached | claude 'Generate commit message' | git commit -F -",
    "precommit": "claude 'Review staged changes' && npm test",
    "prepare-release": "git log --since='2 weeks ago' | claude 'Generate release notes' > RELEASE_NOTES.md"
  }
}
```

UÅ¼ycie:

```bash
npm run claude:review
npm run claude:test
npm run prepare-release
```

## Makefile Integration

`Makefile`:

```makefile
.PHONY: review test fix docs

review:
	@echo "ğŸ¤– Claude Code Review..."
	@git diff | claude "Review this diff for issues"

test-gen:
	@echo "ğŸ§ª Generowanie testÃ³w..."
	@claude "Generate tests for files with low coverage in src/"

fix-all:
	@echo "ğŸ”§ Naprawiam wszystkie bÅ‚Ä™dy..."
	@claude "Fix all linting, type, and code quality issues"

docs:
	@echo "ğŸ“š GenerujÄ™ dokumentacjÄ™..."
	@claude "Add JSDoc comments to all functions in src/"

commit:
	@echo "ğŸ’¾ TworzÄ™ smart commit..."
	@git add .
	@git diff --cached | claude "Generate conventional commit message" > /tmp/msg.txt
	@git commit -F /tmp/msg.txt
	@rm /tmp/msg.txt

health-check:
	@echo "ğŸ¥ Sprawdzam zdrowie projektu..."
	@claude "Analyze project health: dependencies, test coverage, code quality, security"
```

## Docker Integration

`Dockerfile.claude`:

```dockerfile
FROM node:18-alpine

# Zainstaluj Claude Code
RUN npm install -g @anthropic-ai/claude-code

# Setup workspace
WORKDIR /workspace

# Entrypoint script
COPY docker-entrypoint.sh /
RUN chmod +x /docker-entrypoint.sh

ENTRYPOINT ["/docker-entrypoint.sh"]
```

`docker-entrypoint.sh`:

```bash
#!/bin/sh
set -e

# Authenticate Claude
if [ -n "$CLAUDE_API_KEY" ]; then
  echo "$CLAUDE_API_KEY" | claude auth
fi

# Execute command
exec claude "$@"
```

UÅ¼ycie:

```bash
# Build
docker build -f Dockerfile.claude -t claude-code .

# Run
docker run --rm -v $(pwd):/workspace -e CLAUDE_API_KEY="$CLAUDE_API_KEY" \
  claude-code "Review all files in src/"
```

## Slack Integration

`scripts/slack-claude-bot.js`:

```javascript
const { WebClient } = require('@slack/web-api');
const { exec } = require('child_process');

const slack = new WebClient(process.env.SLACK_TOKEN);
const channelId = process.env.SLACK_CHANNEL;

// SÅ‚uchaj wzmianek @claude-bot
slack.on('message', async (event) => {
  if (event.text.includes('@claude-bot')) {
    const query = event.text.replace('@claude-bot', '').trim();

    // Wykonaj claude command
    exec(`claude "${query}"`, (error, stdout, stderr) => {
      const response = error ? stderr : stdout;

      slack.chat.postMessage({
        channel: channelId,
        text: `ğŸ¤– Claude Code Response:\n\`\`\`\n${response}\n\`\`\``,
        thread_ts: event.ts
      });
    });
  }
});
```

## Watchdog - Auto-fix na Save

`scripts/watchdog.sh`:

```bash
#!/bin/bash
# Auto-fix plikÃ³w przy zapisie

WATCH_DIR="${1:-src}"

fswatch -o "$WATCH_DIR" | while read; do
  echo "ğŸ” Wykryto zmiany w $WATCH_DIR"

  # Auto-fix common issues
  claude "Fix any linting or formatting issues in $WATCH_DIR" --auto-approve

  # Run tests
  npm test -- --changed

  if [ $? -eq 0 ]; then
    echo "âœ… Wszystko dziaÅ‚a"
  else
    echo "âŒ Testy nie przeszÅ‚y - uruchamiam naprawÄ™..."
    claude "Fix failing tests in $WATCH_DIR"
  fi
done
```

## Best Practices dla Integracji

### 1. Environment Variables

Przechowuj credentials bezpiecznie:

```bash
# .env.local
CLAUDE_API_KEY=your_key_here
CLAUDE_TIMEOUT=60000
CLAUDE_MODEL=claude-3-opus
```

```bash
# .bashrc / .zshrc
export CLAUDE_API_KEY="sk-ant-..."
alias cr="claude 'Review staged changes'"
alias ct="claude 'Generate tests for'"
alias cf="claude 'Fix linting errors in'"
```

### 2. Rate Limiting

Unikaj przekroczenia limitÃ³w API:

```bash
# scripts/rate-limited-claude.sh
#!/bin/bash

LAST_CALL_FILE="/tmp/claude-last-call"
MIN_INTERVAL=2 # sekundy

if [ -f "$LAST_CALL_FILE" ]; then
  LAST_CALL=$(cat "$LAST_CALL_FILE")
  NOW=$(date +%s)
  DIFF=$((NOW - LAST_CALL))

  if [ $DIFF -lt $MIN_INTERVAL ]; then
    WAIT=$((MIN_INTERVAL - DIFF))
    echo "â³ Rate limiting: czekam ${WAIT}s..."
    sleep $WAIT
  fi
fi

claude "$@"
date +%s > "$LAST_CALL_FILE"
```

### 3. Caching Results

Cache wyniki dla powtarzalnych operacji:

```bash
# scripts/cached-claude.sh
#!/bin/bash

CACHE_DIR="$HOME/.claude-cache"
mkdir -p "$CACHE_DIR"

QUERY="$1"
HASH=$(echo "$QUERY" | md5sum | cut -d' ' -f1)
CACHE_FILE="$CACHE_DIR/$HASH"

# SprawdÅº cache (waÅ¼ny 1h)
if [ -f "$CACHE_FILE" ] && [ $(($(date +%s) - $(stat -f %m "$CACHE_FILE"))) -lt 3600 ]; then
  echo "ğŸ’¾ Cache hit"
  cat "$CACHE_FILE"
else
  echo "ğŸ” Cache miss - wywoÅ‚ujÄ™ Claude..."
  claude "$QUERY" | tee "$CACHE_FILE"
fi
```

## Podsumowanie

Integracja Claude Code z Twoim workflow moÅ¼e znaczÄ…co zwiÄ™kszyÄ‡ produktywnoÅ›Ä‡:

âœ… **Git Hooks** - automatyczny code review i generowanie commit messages
âœ… **CI/CD** - review PR, security checks, automatyczne fixes
âœ… **VS Code** - custom tasks i keybindings dla szybkiego dostÄ™pu
âœ… **Scripts** - automatyzacja rutynowych zadaÅ„
âœ… **Docker** - izolowane Å›rodowisko do code review
âœ… **Slack/Teams** - team-wide dostÄ™p do Claude

### Rekomendacje KoÅ„cowe

1. **Zacznij od maÅ‚ych integracji** - najpierw Git hooks, potem CI/CD
2. **Monitoruj koszty API** - szczegÃ³lnie w CI/CD
3. **Cache wyniki** - unikaj powtarzalnych wywoÅ‚aÅ„
4. **Rate limiting** - chroÅ„ siÄ™ przed przekroczeniem limitÃ³w
5. **Testuj integracje** - upewnij siÄ™, Å¼e dziaÅ‚ajÄ… w rÃ³Å¼nych scenariuszach

Jakie integracje chciaÅ‚byÅ› zobaczyÄ‡ jako nastÄ™pne? Daj znaÄ‡ w komentarzach! ğŸš€
